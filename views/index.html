<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <a href="" id="downloadHref">用户协议下载</a>
    <a href="http://download.artiwares.com/api/download?filename=佑美隐私协议.doc">隐私协议下载</a>
    <script>
      // 在实际部署的时候，前后端分离，使用Nginx部署index.html页面
      // window.open("http://localhost:8899/api/download?filename=佑美隐私协议.doc");
      // window.location.href = "http://localhost:8899/api/download?filename=佑美隐私协议.doc";

      function getQueryVariable(variable) {
        // 获取查询参数
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i = 0; i < vars.length; i++) {
          var pair = vars[i].split("=");
          if (pair[0] == variable) {
            return pair[1];
          }
        }
        return false;
      }
      let userAgreement = getQueryVariable("userAgreement");
      console.log(userAgreement);
      document
        .getElementById("downloadHref")
        .setAttribute(
          "href",
          `http://download.artiwares.com/api/download?filename=${userAgreement}`
        );
    </script>
  </body>
</html>
